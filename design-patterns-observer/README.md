## 观察者模式

观察者模式（Observer Pattern）是行为型设计模式之一，它定义了一种一对多的依赖关系，让多个观察者对象同时监听某一个主题对象。当主题对象发生变化时，会通知所有观察者对象，使它们能够自动更新。
它定义了对象之间的一对多依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都会得到通知并被自动更新。这种模式通常被用来实现事件处理系统、GUI更新、订阅发布系统等。

## 关键角色

1. Subject（主题/被观察者）：它维持一系列的观察者对象，提供注册和删除观察者对象的接口，并提供一个通知所有观察者的接口。
2. Observer（观察者）：它为那些在目标发生改变时需要得到通知的对象提供一个更新接口。

## 优点

* **低耦合**：观察者和被观察者之间是抽象耦合，符合“开闭原则”，易于扩展。
* **灵活性**：可以自由增加和删除观察者，使得系统更易于扩展和维护。
* **广播通信**：被观察者可以向多个观察者广播更新消息，简化了一对多系统的设计。

## 缺点

* 观察者过多时的性能问题：如果一个主题有很多直接和间接的观察者，通知观察者会花费大量时间。
* 过于依赖观察者模式可能会导致系统设计过度复杂。

## 适用场景

* 当一个对象的改变需要同时改变其他对象，而且它不知道具体有多少对象需要改变时。
* 当一个对象必须通知其他对象，而它又不能假定其他对象是谁时。
* 当一个对象必须通知其他对象，但是只知道这些对象的接口时。

