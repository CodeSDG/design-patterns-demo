# 工厂模式

分为三种模式：简单工厂模式、工厂方法模式、抽象工厂模式。

### 简单工厂模式

1. 简单工厂优点：
实现了对象创建和使用的分离
客户端无须知道所创建的具体产品类的类名，只需要知道具体产品类所对应的参数即可
通过引入配置文件，可以在不修改任何客户端代码的情况下更换和增加新的具体产品类，在一定程度上提高了系统的灵活性

2. 简单工厂缺点：
工厂类集中了所有产品的创建逻辑，职责过重，一旦不能正常工作，整个系统都要受到影响，违反单一职责原则
增加系统中类的个数（引入了新的工厂类），增加了系统的复杂度和理解难度
系统扩展困难，一旦添加新产品不得不修改工厂逻辑，违反开闭原则
由于使用了静态工厂方法，造成工厂角色无法形成基于继承的等级结构，工厂类不能得到很好地扩展

### 工厂方法模式

1. 工厂方法优点：
   工厂方法用来创建客户所需要的产品，同时还向客户隐藏了哪种具体产品类将被实例化这一细节
   能够让工厂自主确定创建何种产品对象，而如何创建这个对象的细节则完全封装在具体工厂内部
   在系统中加入新产品时，完全符合开闭原则

2. 工厂方法缺点：
   系统中类的个数将成对增加，在一定程度上增加了系统的复杂度，会给系统带来一些额外的开销
   增加了系统的抽象性和理解难度

### 抽象工厂模式

1. 抽象工厂优点：
   隔离了具体类的生成，使得客户端并不需要知道什么被创建
   当一个产品族中的多个对象被设计成一起工作时，它能够保证客户端始终只使用同一个产品族中的对象
   增加新的产品族很方便，无须修改已有系统，符合开闭原则


## 总结
> 工厂模式的优点：
> 
> 解耦：将对象的创建和使用进行分离
> 
> 可复用：对于创建过程比较复杂且在很多地方都使用到的对象，通过工厂模式可以提高对象创建的代码的复用性。
> 
> 降低成本：由于复杂对象通过工厂进行统一管理，所以只需要修改工厂内部的对象创建过程即可维护对象，从而达到降低成本的目的。
> 

##### 何时使用简单工厂模式？
> 需要创建的对象少
> 
> 客户端不需要关注对象的创建过程

##### 何时使用工厂方法模式？
> 一个类不需要知道所需对象的类，只需要知道具体类对应的工厂类。

> 一个类通过其子类来决定创建哪个对象，工厂类只需提供一个创建对象的接口。

> 将创建对象的任务委托给具体工厂，也可以动态指定由哪个工厂的子类创建。
##### 何时使用抽象工厂模式？

> 需要一组对象完成某种功能或多组对象完成不同的功能。
> 系统稳定，不会额外增加对象